{% extends 'layouts/general-layout.html' %}

{% block title %}Iniciar Sesión{% endblock title %}

{% block content %}
<div class="login-container" style="max-width:400px; margin:50px auto; padding:20px; border:1px solid #ccc; border-radius:10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">

  <h2 style="text-align:center; margin-bottom:20px;">Iniciar Sesión</h2>

  <!-- Mensajes de Django -->
  {% if messages %}
    {% for message in messages %}
      <div style="padding:10px; margin-bottom:10px; border-radius:5px; color:white; background-color:
          {% if message.tags == 'success' %}green
          {% elif message.tags == 'error' %}red
          {% else %}gray
          {% endif %};">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <form method="post" novalidate>
    {% csrf_token %}
    
    <!-- Username -->
    <div class="form-group" style="margin-bottom:15px;">
      {{ form.username.label_tag }}
      {{ form.username }}
      {% if form.username.errors %}
        <div style="color:red; font-size:0.9em;">{{ form.username.errors }}</div>
      {% endif %}
    </div>

    <!-- Password -->
    <div class="form-group" style="margin-bottom:15px;">
      {{ form.password.label_tag }}
      {{ form.password }}
      {% if form.password.errors %}
        <div style="color:red; font-size:0.9em;">{{ form.password.errors }}</div>
      {% endif %}
    </div>

    <!-- Next (hidden) -->
    {% if next %}
      <input type="hidden" name="next" value="{{ next }}">
    {% endif %}

    <button type="submit" style="width:100%; padding:10px; background-color:#007bff; color:white; border:none; border-radius:5px; cursor:pointer;">
      Ingresar
    </button>
  </form>

  <p style="text-align:center; margin-top:15px;">
    ¿No tienes cuenta? <a href="{% url 'usuarios:registro' %}">Regístrate aquí</a>
  </p>

</div>
{% endblock content %}
